<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Quatro C • Portal de Negociação</title>
  <style>
    :root{
      --bg:#f5f6f8;
      --card:#ffffff;
      --text:#0f172a;
      --muted:#6b7280;
      --border:#e6e9ef;
      --shadow: 0 18px 60px rgba(15,23,42,.08);
      --radius:26px;
      --red:#d60b1c;
      --red2:#b90918;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: radial-gradient(1200px 500px at 50% -50px, rgba(214,11,28,.12), transparent 70%) , var(--bg);
      color:var(--text);
    }
    .wrap{
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:28px 14px;
    }
    .shell{
      width:min(1100px, 96vw);
      background:var(--card);
      border:1px solid var(--border);
      border-radius:32px;
      box-shadow:var(--shadow);
      overflow:hidden;
    }
    .top{
      height:86px;
      display:flex;
      align-items:center;
      justify-content:center;
      border-bottom:1px solid rgba(0,0,0,.04);
      background:#fff;
    }
    .logo{
      width:78px;
      height:78px;
      object-fit:contain;
      filter: drop-shadow(0 18px 30px rgba(15,23,42,.12));
    }

    .content{
      padding:26px 26px 10px;
      display:flex;
      justify-content:center;
    }
    .panel{
      width:min(760px, 100%);
      border:1px solid var(--border);
      border-radius:var(--radius);
      padding:26px;
      background:linear-gradient(#fff,#fff);
    }
    .row-top{
      display:flex;
      justify-content:space-between;
      align-items:center;
      margin-bottom:18px;
    }
    .back{
      border:none;
      background:transparent;
      color:#64748b;
      font-size:18px;
      cursor:pointer;
      padding:6px 8px;
    }
    .title{
      margin:6px 0 8px;
      text-align:center;
      font-size:54px;
      letter-spacing:-.03em;
      line-height:1.05;
      font-weight:800;
    }
    .subtitle{
      margin:0 0 18px;
      text-align:center;
      color:var(--muted);
      font-size:20px;
      line-height:1.35;
    }
    .box{
      border:1px solid var(--border);
      border-radius:20px;
      padding:18px 18px;
      background:#fff;
    }
    .center{
      text-align:center;
    }
    .question{
      font-size:20px;
      line-height:1.45;
      margin:0;
    }
    .strong{font-weight:800}
    .btnrow{
      display:flex;
      justify-content:center;
      gap:18px;
      margin-top:18px;
      flex-wrap:wrap;
    }
    .btn{
      min-width:220px;
      height:62px;
      padding:0 22px;
      border-radius:18px;
      border:1.5px solid rgba(214,11,28,.35);
      background:#fff;
      color:var(--red);
      font-weight:800;
      font-size:22px;
      cursor:pointer;
      transition: transform .08s ease, background .15s ease, border-color .15s ease;
    }
    .btn:active{transform: scale(.99)}
    .btn.primary{
      background:linear-gradient(180deg,var(--red),var(--red2));
      color:#fff;
      border-color:transparent;
    }
    .btn.small{
      min-width:240px;
      height:56px;
      font-size:18px;
      border-radius:16px;
    }
    .btn.wide{min-width:320px}
    .pill{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding:10px 16px;
      border-radius:999px;
      border:1px solid var(--border);
      color:var(--text);
      background:#fff;
      font-weight:700;
    }
    .dot{
      width:10px;height:10px;border-radius:50%;
      background:var(--red);
      box-shadow:0 0 0 6px rgba(214,11,28,.12);
    }

    /* Rodapé */
    .foot{
      padding:14px 22px 22px;
      display:flex;
      justify-content:center;
    }
    .foottext{
      width:min(760px, 100%);
      text-align:center;
      color:#64748b;
      font-size:18px;
      line-height:1.45;
    }
    .link{
      color:var(--red);
      font-weight:800;
      cursor:pointer;
      text-decoration:none;
    }
    .link:hover{text-decoration:underline}

    /* Modal Termos */
    .modal{
      position:fixed;
      inset:0;
      display:none;
      align-items:center;
      justify-content:center;
      padding:22px 14px;
      background:rgba(2,6,23,.55);
      z-index:999;
    }
    .modal.open{display:flex}
    .modalbox{
      width:min(860px, 94vw);
      max-height:min(78vh, 720px);
      background:#fff;
      border-radius:22px;
      border:1px solid var(--border);
      box-shadow:var(--shadow);
      overflow:hidden;
      display:flex;
      flex-direction:column;
    }
    .modalhead{
      padding:16px 18px;
      border-bottom:1px solid rgba(0,0,0,.06);
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
    }
    .modalhead h3{
      margin:0;
      font-size:18px;
      letter-spacing:-.01em;
    }
    .x{
      border:none;
      background:transparent;
      cursor:pointer;
      font-size:22px;
      color:#64748b;
      padding:6px 8px;
    }
    .modalbody{
      padding:18px;
      overflow:auto; /* rolagem dentro da caixa */
      line-height:1.55;
      color:#0f172a;
      font-size:15px;
    }
    .modalbody h4{margin:16px 0 8px}
    .modalbody p{margin:8px 0}
    .modalbody ul{margin:8px 0 8px 18px}

    /* Responsivo */
    @media (max-width:720px){
      .title{font-size:38px}
      .subtitle{font-size:17px}
      .btn{min-width:160px}
      .btnrow{gap:12px}
      .panel{padding:18px}
    }
  </style>
</head>
<body>
  <!--
    ✅ LOGO (CDN)
    Se não carregar, verifique:
    1) Nome do arquivo exatamente: "Logo.png" (maiúsculas contam)
    2) Branch: "main" ou "master"
    3) Repo: "Logo" (pelo print, parece ser o nome do repositório)
    Exemplo correto (se for main):
    https://cdn.jsdelivr.net/gh/asilvino19-beep/Logo@main/Logo.png
  -->
  <div class="wrap">
    <div class="shell">
      <div class="top">
        <img class="logo" id="logo" alt="QuatroC" src="https://cdn.jsdelivr.net/gh/asilvino19-beep/Logo@main/Logo.png">
      </div>

      <div class="content">
        <div class="panel">
          <div class="row-top">
            <button class="back" id="btnBack">← Voltar</button>
            <span></span>
          </div>

          <!-- ====== TELA: LOADING (somente a frase, sem "Resultado da consulta") ====== -->
          <section id="screenLoading">
            <p class="subtitle center" style="margin-top:0">
              Estamos localizando as informações vinculadas ao documento informado.
            </p>

            <!-- Sem borda externa (você pediu retirar) -->
            <div class="center" style="margin-top:22px">
              <span class="pill"><span class="dot"></span>Carregando...</span>
              <div class="subtitle" style="margin-top:12px">Aguarde um momento.</div>
            </div>
          </section>

          <!-- ====== TELA: RESULTADO (CPF ou CNPJ) ====== -->
          <section id="screenResult" style="display:none">
            <h1 class="title">Resultado da consulta</h1>

            <div class="box center">
              <p class="question" id="resultText"></p>
              <div class="btnrow">
                <!-- Harmonizado: ambos brancos (outline) -->
                <button class="btn" id="btnYes">Sim</button>
                <button class="btn" id="btnNo">Não</button>
              </div>
            </div>
          </section>

          <!-- ====== TELA: CONFIRMAÇÃO NOME COMPLETO (após clicar em SIM — sem voltar e sem loading) ====== -->
          <section id="screenNameCheck" style="display:none">
            <h1 class="title" style="font-size:46px;margin-bottom:6px">Confirmação</h1>
            <p class="subtitle">Para darmos sequência, confirme o nome completo</p>

            <div class="box center">
              <div class="btnrow" style="margin-top:8px">
                <button class="btn wide" id="opt1"></button>
                <button class="btn wide" id="opt2"></button>
                <button class="btn wide" id="opt3"></button>
              </div>
            </div>
          </section>

          <!-- ====== TELA: DIRECIONAMENTO (layout menor, proporcional e botões harmonizados) ====== -->
          <section id="screenNext" style="display:none">
            <h1 class="title" style="font-size:46px;margin-bottom:6px">Como deseja prosseguir?</h1>
            <p class="subtitle">Selecione uma opção para continuar o atendimento.</p>

            <div class="box center">
              <div class="btnrow" style="margin-top:10px">
                <button class="btn small" id="btnSelf">Negociar pelo autoatendimento</button>
                <button class="btn small" id="btnHuman">Falar com um atendente</button>
              </div>
            </div>
          </section>

          <!-- ====== TELA: NOVA CONSULTA (somente quando clicar NÃO na confirmação) ====== -->
          <section id="screenNewSearch" style="display:none">
            <h1 class="title" style="font-size:46px;margin-bottom:6px">Nova consulta</h1>
            <p class="subtitle center">Para sua segurança, precisamos reiniciar a consulta com o documento correto.</p>

            <div class="btnrow" style="margin-top:18px">
              <button class="btn primary wide" id="btnRestart">Nova consulta</button>
            </div>
          </section>

          <!-- ====== TELA: ERRO/INSTABILIDADE (visual alinhado com o restante) ====== -->
          <section id="screenError" style="display:none">
            <h1 class="title" style="font-size:46px;margin-bottom:6px">Não foi possível concluir</h1>
            <p class="subtitle center">Identificamos uma instabilidade no momento. Tente novamente em instantes.</p>

            <div class="btnrow" style="margin-top:18px">
              <button class="btn primary wide" id="btnTryAgain">Tentar novamente</button>
            </div>
          </section>

        </div>
      </div>

      <div class="foot">
        <div class="foottext">
          Conosco, seus dados são tratados de forma segura e sigilosa. Caso tenha dúvidas ou queira saber mais sobre, acesse nossos
          <a class="link" id="openTerms">Termos e Política</a>.
        </div>
      </div>
    </div>
  </div>

  <!-- MODAL Termos e Política (não cobre a tela toda; rola dentro da caixa) -->
  <div class="modal" id="termsModal" aria-hidden="true">
    <div class="modalbox" role="dialog" aria-modal="true" aria-label="Termos e Política">
      <div class="modalhead">
        <h3>Termos e Política • Quatro C</h3>
        <button class="x" id="closeTerms" aria-label="Fechar">✕</button>
      </div>
      <div class="modalbody">
        <h4>Compromisso com segurança e sigilo</h4>
        <p>
          A Quatro C adota medidas técnicas e organizacionais para proteger os dados utilizados neste portal,
          com foco em confidencialidade, integridade e disponibilidade das informações.
        </p>

        <h4>1) Finalidade do portal</h4>
        <p>
          Este portal viabiliza autoatendimento para consulta de pendências e direcionamento do atendimento,
          de forma objetiva e segura.
        </p>

        <h4>2) Dados tratados</h4>
        <ul>
          <li>Documento informado (CPF ou CNPJ);</li>
          <li>Informações de cadastro necessárias para validação e atendimento (quando aplicável);</li>
          <li>Informações sobre pendências/encaminhamentos vinculados ao documento consultado.</li>
        </ul>

        <h4>3) Sigilo e acesso</h4>
        <p>
          Para reduzir exposição indevida, o portal pode solicitar validações adicionais antes de exibir informações.
          Não compartilhe seu documento com terceiros.
        </p>

        <h4>4) Boas práticas</h4>
        <ul>
          <li>Utilize rede e dispositivo confiáveis;</li>
          <li>Evite acessar o portal em equipamentos públicos;</li>
          <li>Finalize o atendimento ao concluir sua consulta.</li>
        </ul>

        <h4>5) Atendimento humano</h4>
        <p>
          Caso prefira, você pode optar por seguir com atendimento humano pelos canais disponibilizados no portal.
        </p>
      </div>
    </div>
  </div>

  <script>
    /* =============================
       DEMO / FRONT ONLY
       Troque os valores abaixo pela resposta real do seu back/CRM
       ============================= */

    // Exemplo: muda para "CNPJ" para testar o cenário
    const demoDocumentoTipo = "CNPJ"; // "CPF" | "CNPJ"

    // Nome completo (do CRM). A tela de resultado mostra nome resumido.
    const demoNomeCompleto = demoDocumentoTipo === "CNPJ"
      ? "N OLIVEIRA"
      : "ALEXANDRE VALENTE LEAL";

    // Opções de nome completo (para double-check)
    const demoOpcoesNomes = [
      demoNomeCompleto,
      demoDocumentoTipo === "CNPJ" ? "N OLIVEIRA COMÉRCIO LTDA" : "ALEXANDRE VALENTE SILVA",
      demoDocumentoTipo === "CNPJ" ? "N OLIVEIRA SERVIÇOS" : "ALEXANDRE VALENTE SANTOS"
    ];

    // Critério de acerto (ex.: primeira opção é a correta)
    const nomeCorreto = demoNomeCompleto;

    // Helper: “resumir nome” (primeiro + segundo token, se existir)
    function resumirNome(nome){
      const parts = (nome || "").trim().split(/\s+/).filter(Boolean);
      if (parts.length === 0) return "";
      if (parts.length === 1) return parts[0];
      return parts[0] + " " + parts[1];
    }

    /* =============================
       ELEMENTOS
       ============================= */
    const screenLoading   = document.getElementById("screenLoading");
    const screenResult    = document.getElementById("screenResult");
    const screenNameCheck = document.getElementById("screenNameCheck");
    const screenNext      = document.getElementById("screenNext");
    const screenNewSearch = document.getElementById("screenNewSearch");
    const screenError     = document.getElementById("screenError");

    const resultText = document.getElementById("resultText");
    const btnYes = document.getElementById("btnYes");
    const btnNo  = document.getElementById("btnNo");

    const opt1 = document.getElementById("opt1");
    const opt2 = document.getElementById("opt2");
    const opt3 = document.getElementById("opt3");

    const btnSelf  = document.getElementById("btnSelf");
    const btnHuman = document.getElementById("btnHuman");

    const btnRestart = document.getElementById("btnRestart");
    const btnTryAgain = document.getElementById("btnTryAgain");
    const btnBack = document.getElementById("btnBack");

    // Termos modal
    const openTerms = document.getElementById("openTerms");
    const termsModal = document.getElementById("termsModal");
    const closeTerms = document.getElementById("closeTerms");

    function showOnly(screen){
      [screenLoading, screenResult, screenNameCheck, screenNext, screenNewSearch, screenError]
        .forEach(s => s.style.display = "none");
      screen.style.display = "block";
    }

    /* =============================
       FLUXO (com os ajustes pedidos)
       ============================= */

    // 1) Inicia no LOADING (somente a frase; sem "Resultado da consulta")
    showOnly(screenLoading);

    // Simula retorno do CRM (remova este setTimeout no seu back real)
    setTimeout(() => {
      // 2) Após localizar, mostra RESULTADO com "Resultado da consulta"
      const nomeResumido = resumirNome(demoNomeCompleto);
      if (demoDocumentoTipo === "CNPJ") {
        resultText.innerHTML = `Localizamos o cadastro da empresa <span class="strong">${nomeResumido}</span>.<br>Você é responsável por esta empresa?`;
      } else {
        resultText.innerHTML = `Localizamos o cadastro em nome de <span class="strong">${nomeResumido}</span>.<br>Estamos falando com essa pessoa?`;
      }
      showOnly(screenResult);
    }, 900);

    // 3) Clique em NÃO -> tela nova consulta (sem "Resultado da consulta")
    btnNo.addEventListener("click", () => {
      showOnly(screenNewSearch);
    });

    // 4) Clique em SIM -> vai direto para validação do nome completo (SEM voltar pro início e SEM loading)
    btnYes.addEventListener("click", () => {
      opt1.textContent = demoOpcoesNomes[0] || "";
      opt2.textContent = demoOpcoesNomes[1] || "";
      opt3.textContent = demoOpcoesNomes[2] || "";
      showOnly(screenNameCheck);
    });

    // 5) Seleção do nome completo -> se correto, segue para a tela de direcionamento
    function onPickName(value){
      if ((value || "").trim() === (nomeCorreto || "").trim()){
        showOnly(screenNext);
      } else {
        // se errar o nome, por segurança manda para nova consulta
        showOnly(screenNewSearch);
      }
    }
    opt1.addEventListener("click", () => onPickName(opt1.textContent));
    opt2.addEventListener("click", () => onPickName(opt2.textContent));
    opt3.addEventListener("click", () => onPickName(opt3.textContent));

    // 6) Direcionamento: por enquanto não chama back; se quiser simular instabilidade, descomente showOnly(screenError)
    btnSelf.addEventListener("click", () => {
      // Aqui você deve seguir para a tela de "Card de proposta" (próximo passo)
      // showOnly(screenError); // simula instabilidade (opcional)
      alert("Próximo passo: Tela de proposta (card) + botão Detalhes da dívida.");
    });

    btnHuman.addEventListener("click", () => {
      // Aqui você deve abrir o link do chat humano (próximo passo)
      // showOnly(screenError); // simula instabilidade (opcional)
      alert("Próximo passo: Mensagem simples com link do chat humano.");
    });

    // 7) Botões utilitários
    btnRestart.addEventListener("click", () => {
      // volta para o início do fluxo (no seu projeto, redireciona para a tela 1)
      location.reload();
    });
    btnTryAgain.addEventListener("click", () => {
      // tenta novamente a última ação (aqui, apenas volta para a tela de direcionamento)
      showOnly(screenNext);
    });
    btnBack.addEventListener("click", () => {
      // comportamento simples (ajuste conforme sua navegação real)
      history.back();
    });

    // 8) Termos modal (caixa proporcional + rolagem interna)
    openTerms.addEventListener("click", (e) => {
      e.preventDefault();
      termsModal.classList.add("open");
      termsModal.setAttribute("aria-hidden","false");
    });
    closeTerms.addEventListener("click", () => {
      termsModal.classList.remove("open");
      termsModal.setAttribute("aria-hidden","true");
    });
    termsModal.addEventListener("click", (e) => {
      if (e.target === termsModal){
        termsModal.classList.remove("open");
        termsModal.setAttribute("aria-hidden","true");
      }
    });

    // 9) Fallback do logo (se CDN falhar)
    document.getElementById("logo").addEventListener("error", () => {
      document.getElementById("logo").alt = "Quatro C";
    });
  </script>
</body>
</html>
